<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>JavaScript/TypeScript 函数语法完全指南：从 Java 开发者视角理解现代 JS 函数 | Baduncle Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="作为一名 Java 开发者，当你第一次看到这样的 TypeScript 代码时，可能会感到困惑： 123export const createRouter: CreateRouterFn &#x3D; (options) &#x3D;&gt; &#123;  return new Router(options)&#125;  CreateRouterFn 是什么？&#x3D;&gt; 又是什么语法？这与 Java 的方法声明有">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript&#x2F;TypeScript 函数语法完全指南：从 Java 开发者视角理解现代 JS 函数">
<meta property="og:url" content="https://blog.baduncle.top/2025/08/06/javascript-typescript-function-syntax-guide-for-java-developers/index.html">
<meta property="og:site_name" content="Baduncle Blog">
<meta property="og:description" content="作为一名 Java 开发者，当你第一次看到这样的 TypeScript 代码时，可能会感到困惑： 123export const createRouter: CreateRouterFn &#x3D; (options) &#x3D;&gt; &#123;  return new Router(options)&#125;  CreateRouterFn 是什么？&#x3D;&gt; 又是什么语法？这与 Java 的方法声明有">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-08-05T16:00:00.000Z">
<meta property="article:modified_time" content="2025-08-06T13:23:37.972Z">
<meta property="article:author" content="Baduncle">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="typescript">
<meta property="article:tag" content="java-to-javascript">
<meta property="article:tag" content="type-annotations">
<meta property="article:tag" content="arrow-functions">
<meta property="article:tag" content="this-binding">
<meta property="article:tag" content="optional-parameters">
<meta property="article:tag" content="function-types">
<meta property="article:tag" content="async-await">
<meta property="article:tag" content="generics">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Baduncle Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Baduncle Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">vibe coding</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.baduncle.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-javascript-typescript-function-syntax-guide-for-java-developers" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/08/06/javascript-typescript-function-syntax-guide-for-java-developers/" class="article-date">
  <time class="dt-published" datetime="2025-08-05T16:00:00.000Z" itemprop="datePublished">2025-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Programming/">Programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      JavaScript/TypeScript 函数语法完全指南：从 Java 开发者视角理解现代 JS 函数
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>作为一名 Java 开发者，当你第一次看到这样的 TypeScript 代码时，可能会感到困惑：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">createRouter</span>: <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Router</span>(options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>CreateRouterFn</code> 是什么？<code>=&gt;</code> 又是什么语法？这与 Java 的方法声明有何不同？本文将从 Java 开发者熟悉的概念出发，系统性地解析 JavaScript&#x2F;TypeScript 函数的各种语法形式，帮你快速掌握现代前端开发的核心语法。</p>
<span id="more"></span>

<h2 id="引言：从困惑到清晰"><a href="#引言：从困惑到清晰" class="headerlink" title="引言：从困惑到清晰"></a>引言：从困惑到清晰</h2><h3 id="触发思考的源码片段"><a href="#触发思考的源码片段" class="headerlink" title="触发思考的源码片段"></a>触发思考的源码片段</h3><p>在分析 TanStack Router 源码时，我们遇到了这样的函数定义：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">createRouter</span>: <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Router</span>(options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于 Java 开发者来说，这个语法包含了多个陌生概念：</p>
<ul>
<li>函数作为常量被声明？</li>
<li>类型注解的位置为什么在函数名后面？</li>
<li><code>=&gt;</code> 是什么操作符？</li>
</ul>
<h3 id="Java-vs-JavaScript-TypeScript-的根本差异"><a href="#Java-vs-JavaScript-TypeScript-的根本差异" class="headerlink" title="Java vs JavaScript&#x2F;TypeScript 的根本差异"></a>Java vs JavaScript&#x2F;TypeScript 的根本差异</h3><table>
<thead>
<tr>
<th>特性</th>
<th>Java</th>
<th>JavaScript&#x2F;TypeScript</th>
</tr>
</thead>
<tbody><tr>
<td><strong>函数地位</strong></td>
<td>方法必须属于类</td>
<td>函数是一等公民，可独立存在</td>
</tr>
<tr>
<td><strong>类型系统</strong></td>
<td>静态类型，编译时检查</td>
<td>JS动态类型，TS可选静态类型</td>
</tr>
<tr>
<td><strong>函数赋值</strong></td>
<td>不能直接将方法赋值给变量</td>
<td>函数可以赋值给变量</td>
</tr>
<tr>
<td><strong>语法灵活性</strong></td>
<td>相对固定的语法</td>
<td>多种函数声明方式</td>
</tr>
</tbody></table>
<h2 id="第一章：基础语法全对比"><a href="#第一章：基础语法全对比" class="headerlink" title="第一章：基础语法全对比"></a>第一章：基础语法全对比</h2><h3 id="1-1-函数声明方式"><a href="#1-1-函数声明方式" class="headerlink" title="1.1 函数声明方式"></a>1.1 函数声明方式</h3><h4 id="传统函数声明"><a href="#传统函数声明" class="headerlink" title="传统函数声明"></a>传统函数声明</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript/JavaScript</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createUser</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>): <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(name, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 等价写法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> User <span class="title function_">createUser</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(name, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>关键差异</strong>：</p>
<ul>
<li><strong>类型位置</strong>：TypeScript 在参数后用 <code>:</code> 标注类型，Java 在参数前声明类型</li>
<li><strong>访问修饰符</strong>：JavaScript 没有 <code>public/private</code> 概念，通过 <code>export</code> 控制可见性</li>
<li><strong>返回类型</strong>：TypeScript 在参数列表后用 <code>:</code> 标注，Java 在方法名前声明</li>
</ul>
<h4 id="函数表达式（赋值给变量）"><a href="#函数表达式（赋值给变量）" class="headerlink" title="函数表达式（赋值给变量）"></a>函数表达式（赋值给变量）</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 函数作为值赋给变量</span></span><br><span class="line"><span class="keyword">const</span> createUser = <span class="keyword">function</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">age</span>: <span class="built_in">number</span></span>): <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(name, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 8+ 使用函数式接口实现类似效果</span></span><br><span class="line">BiFunction&lt;String, Integer, User&gt; createUser = </span><br><span class="line">    (name, age) -&gt; <span class="keyword">new</span> <span class="title class_">User</span>(name, age);</span><br></pre></td></tr></table></figure>

<p><strong>概念映射</strong>：</p>
<ul>
<li>JavaScript 的函数变量 ≈ Java 的函数式接口变量</li>
<li>但 JavaScript 更直观，不需要预先定义接口</li>
</ul>
<h3 id="1-2-参数处理对比"><a href="#1-2-参数处理对比" class="headerlink" title="1.2 参数处理对比"></a>1.2 参数处理对比</h3><h4 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 原生支持可选参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">greeting</span>?: <span class="built_in">string</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;greeting || <span class="string">&#x27;Hello&#x27;</span>&#125;</span>, <span class="subst">$&#123;name&#125;</span>!`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用方式</span></span><br><span class="line"><span class="title function_">greet</span>(<span class="string">&#x27;Alice&#x27;</span>);           <span class="comment">// &quot;Hello, Alice!&quot;</span></span><br><span class="line"><span class="title function_">greet</span>(<span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Hi&#x27;</span>);      <span class="comment">// &quot;Hi, Bob!&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - 需要方法重载实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">greet</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> greet(name, <span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">greet</span><span class="params">(String name, String greeting)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> greeting + <span class="string">&quot;, &quot;</span> + name + <span class="string">&quot;!&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="默认参数值"><a href="#默认参数值" class="headerlink" title="默认参数值"></a>默认参数值</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 直接在参数上设置默认值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createConfig</span>(<span class="params"><span class="attr">host</span>: <span class="built_in">string</span> = <span class="string">&#x27;localhost&#x27;</span>, <span class="attr">port</span>: <span class="built_in">number</span> = <span class="number">3000</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; host, port &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - 通过方法重载或Builder模式实现</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Config <span class="title function_">createConfig</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> createConfig(<span class="string">&quot;localhost&quot;</span>, <span class="number">3000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Config <span class="title function_">createConfig</span><span class="params">(String host, <span class="type">int</span> port)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Config</span>(host, port);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第二章：箭头函数深度解析"><a href="#第二章：箭头函数深度解析" class="headerlink" title="第二章：箭头函数深度解析"></a>第二章：箭头函数深度解析</h2><h3 id="2-1-箭头函数语法解构"><a href="#2-1-箭头函数语法解构" class="headerlink" title="2.1 箭头函数语法解构"></a>2.1 箭头函数语法解构</h3><p>让我们逐步分解那个令人困惑的语法：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">createRouter</span>: <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Router</span>(options)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>步骤分解</strong>：</p>
<ol>
<li><code>export const createRouter</code> - 导出一个常量</li>
<li><code>: CreateRouterFn</code> - 类型注解（这是函数类型，不是返回值类型！）</li>
<li><code>=</code> - 赋值操作</li>
<li><code>(options) =&gt;</code> - 箭头函数的参数部分</li>
<li><code>&#123; return new Router(options) &#125;</code> - 箭头函数的函数体</li>
</ol>
<h3 id="2-2-箭头函数-vs-Java-Lambda"><a href="#2-2-箭头函数-vs-Java-Lambda" class="headerlink" title="2.2 箭头函数 vs Java Lambda"></a>2.2 箭头函数 vs Java Lambda</h3><h4 id="基本语法对比"><a href="#基本语法对比" class="headerlink" title="基本语法对比"></a>基本语法对比</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript 箭头函数</span></span><br><span class="line"><span class="keyword">const</span> add = (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简化版（单行返回）</span></span><br><span class="line"><span class="keyword">const</span> add = (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> a + b;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java Lambda 表达式</span></span><br><span class="line">BiFunction&lt;Integer, Integer, Integer&gt; add = </span><br><span class="line">    (a, b) -&gt; a + b;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者使用方法引用</span></span><br><span class="line">BinaryOperator&lt;Integer&gt; add = Integer::sum;</span><br></pre></td></tr></table></figure>

<h4 id="复杂场景对比"><a href="#复杂场景对比" class="headerlink" title="复杂场景对比"></a>复杂场景对比</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 数组处理</span></span><br><span class="line"><span class="keyword">const</span> users = [<span class="string">&#x27;Alice&#x27;</span>, <span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;Charlie&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 过滤和映射</span></span><br><span class="line"><span class="keyword">const</span> activeUsers = users</span><br><span class="line">  .<span class="title function_">filter</span>(<span class="function"><span class="params">name</span> =&gt;</span> name.<span class="property">length</span> &gt; <span class="number">3</span>)</span><br><span class="line">  .<span class="title function_">map</span>(<span class="function"><span class="params">name</span> =&gt;</span> (&#123; name, <span class="attr">active</span>: <span class="literal">true</span> &#125;));</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java Stream API</span></span><br><span class="line">List&lt;String&gt; users = Arrays.asList(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>);</span><br><span class="line"></span><br><span class="line">List&lt;User&gt; activeUsers = users.stream()</span><br><span class="line">    .filter(name -&gt; name.length() &gt; <span class="number">3</span>)</span><br><span class="line">    .map(name -&gt; <span class="keyword">new</span> <span class="title class_">User</span>(name, <span class="literal">true</span>))</span><br><span class="line">    .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<h3 id="2-3-箭头函数的特殊性"><a href="#2-3-箭头函数的特殊性" class="headerlink" title="2.3 箭头函数的特殊性"></a>2.3 箭头函数的特殊性</h3><h4 id="this-绑定差异（JavaScript-独有概念）"><a href="#this-绑定差异（JavaScript-独有概念）" class="headerlink" title="this 绑定差异（JavaScript 独有概念）"></a>this 绑定差异（JavaScript 独有概念）</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EventHandler</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> message = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 传统函数 - this 会变化</span></span><br><span class="line">  <span class="title function_">handleClick1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">message</span>); <span class="comment">// undefined！this 指向了 setTimeout</span></span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 箭头函数 - this 保持不变</span></span><br><span class="line">  <span class="title function_">handleClick2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">message</span>); <span class="comment">// &quot;Hello&quot; - this 仍指向 EventHandler 实例</span></span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Java 对比</strong>：Java 没有这个问题，因为没有 <code>this</code> 的动态绑定概念。</p>
<h2 id="第三章：TypeScript-函数类型系统"><a href="#第三章：TypeScript-函数类型系统" class="headerlink" title="第三章：TypeScript 函数类型系统"></a>第三章：TypeScript 函数类型系统</h2><h3 id="3-1-函数类型定义和注解的价值"><a href="#3-1-函数类型定义和注解的价值" class="headerlink" title="3.1 函数类型定义和注解的价值"></a>3.1 函数类型定义和注解的价值</h3><p>回到最初的困惑，<code>CreateRouterFn</code> 究竟是什么？为什么需要函数类型注解？</p>
<h4 id="关键理解：JavaScript-中函数是”值”，不是”方法”"><a href="#关键理解：JavaScript-中函数是”值”，不是”方法”" class="headerlink" title="关键理解：JavaScript 中函数是”值”，不是”方法”"></a>关键理解：JavaScript 中函数是”值”，不是”方法”</h4><p>这是 Java 开发者理解 JavaScript&#x2F;TypeScript 的关键难点：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - 方法属于类，不能独立存在</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;  <span class="comment">// 这是方法，不是值</span></span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 你不能这样做：Calculator.add = someOtherMethod;  // 编译错误！</span></span><br></pre></td></tr></table></figure>

<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JavaScript/TypeScript - 函数是值，可以被赋值和传递</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数可以被重新赋值！</span></span><br><span class="line">add = <span class="keyword">function</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;  <span class="comment">// 现在 add 实际上是乘法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数可以作为变量传递</span></span><br><span class="line"><span class="keyword">const</span> myOperation = add;</span><br></pre></td></tr></table></figure>

<h4 id="函数类型注解的实际价值"><a href="#函数类型注解的实际价值" class="headerlink" title="函数类型注解的实际价值"></a>函数类型注解的实际价值</h4><p><strong>1. 确保函数符合预期的”形状”</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个函数类型 - 这是个&quot;模板&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MathOperation</span> = <span class="function">(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 现在我可以确保任何 MathOperation 类型的变量都有正确的签名</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">add</span>: <span class="title class_">MathOperation</span> = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;        <span class="comment">// ✅ 符合</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">multiply</span>: <span class="title class_">MathOperation</span> = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a * b;   <span class="comment">// ✅ 符合</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这些会报错！</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">badFunction</span>: <span class="title class_">MathOperation</span> = <span class="function">(<span class="params">a</span>) =&gt;</span> a;       <span class="comment">// ❌ 参数不匹配</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">anotherBad</span>: <span class="title class_">MathOperation</span> = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="string">&quot;hi&quot;</span>;  <span class="comment">// ❌ 返回类型不匹配</span></span><br></pre></td></tr></table></figure>

<p><strong>Java 对比</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">MathOperation</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">apply</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">MathOperation</span> <span class="variable">add</span> <span class="operator">=</span> (a, b) -&gt; a + b;</span><br><span class="line"><span class="type">MathOperation</span> <span class="variable">multiply</span> <span class="operator">=</span> (a, b) -&gt; a * b;</span><br></pre></td></tr></table></figure>

<p><strong>2. 函数作为参数时的类型安全</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理数组的函数，要求传入特定形状的操作函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processNumbers</span>(<span class="params"></span></span><br><span class="line"><span class="params">    <span class="attr">numbers</span>: <span class="built_in">number</span>[], </span></span><br><span class="line"><span class="params">    <span class="attr">operation</span>: (a: <span class="built_in">number</span>, b: <span class="built_in">number</span>) =&gt; <span class="built_in">number</span>  <span class="comment">// 函数类型注解</span></span></span><br><span class="line"><span class="params"></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> numbers.<span class="title function_">reduce</span>(operation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用时，TypeScript 会检查传入的函数是否符合要求</span></span><br><span class="line"><span class="title function_">processNumbers</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b);     <span class="comment">// ✅ 求和</span></span><br><span class="line"><span class="title function_">processNumbers</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="function">(<span class="params">a, b</span>) =&gt;</span> a * b);     <span class="comment">// ✅ 求积</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这些会报错！</span></span><br><span class="line"><span class="title function_">processNumbers</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="function">(<span class="params">a</span>) =&gt;</span> a);            <span class="comment">// ❌ 参数不匹配</span></span><br><span class="line"><span class="title function_">processNumbers</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="string">&quot;hello&quot;</span>);   <span class="comment">// ❌ 返回类型不匹配</span></span><br></pre></td></tr></table></figure>

<p><strong>3. 创建可配置的函数工厂</strong></p>
<p>回到最初让人困惑的代码：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这定义了&quot;什么样的函数可以创建 Router&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params"><span class="attr">options</span>: <span class="title class_">RouterOptions</span></span>) =&gt;</span> <span class="title class_">Router</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 现在我可以有多种创建 Router 的方式，但都必须符合这个&quot;形状&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">createRouter</span>: <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Router</span>(options);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我还可以创建其他符合同样类型的函数</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">createTestRouter</span>: <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;...options, <span class="attr">testMode</span>: <span class="literal">true</span>&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">createCachedRouter</span>: <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params">options</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 先检查缓存</span></span><br><span class="line">    <span class="keyword">if</span> (routerCache.<span class="title function_">has</span>(options.<span class="property">id</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> routerCache.<span class="title function_">get</span>(options.<span class="property">id</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(options);</span><br><span class="line">    routerCache.<span class="title function_">set</span>(options.<span class="property">id</span>, router);</span><br><span class="line">    <span class="keyword">return</span> router;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据环境动态切换函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">createRouter</span>: <span class="title class_">CreateRouterFn</span> = </span><br><span class="line">    process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span> </span><br><span class="line">        ? createTestRouter      <span class="comment">// 开发环境用测试版本</span></span><br><span class="line">        : createProductionRouter; <span class="comment">// 生产环境用正式版本</span></span><br></pre></td></tr></table></figure>

<p><strong>4. 插件系统的类型安全</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义插件必须实现的函数类型</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PluginInitializer</span> = <span class="function">(<span class="params"><span class="attr">config</span>: <span class="title class_">PluginConfig</span></span>) =&gt;</span> <span class="title class_">PluginInstance</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PluginManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="attr">plugins</span>: <span class="title class_">Map</span>&lt;<span class="built_in">string</span>, <span class="title class_">PluginInitializer</span>&gt; = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 注册插件时确保类型正确</span></span><br><span class="line">    <span class="title function_">register</span>(<span class="params"><span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">initializer</span>: <span class="title class_">PluginInitializer</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">plugins</span>.<span class="title function_">set</span>(name, initializer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用插件 - TypeScript 确保调用是安全的</span></span><br><span class="line">    <span class="title function_">createPlugin</span>(<span class="attr">name</span>: <span class="built_in">string</span>, <span class="attr">config</span>: <span class="title class_">PluginConfig</span>): <span class="title class_">PluginInstance</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> initializer = <span class="variable language_">this</span>.<span class="property">plugins</span>.<span class="title function_">get</span>(name);</span><br><span class="line">        <span class="keyword">if</span> (!initializer) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Plugin <span class="subst">$&#123;name&#125;</span> not found`</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">initializer</span>(config);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="函数类型注解的价值总结"><a href="#函数类型注解的价值总结" class="headerlink" title="函数类型注解的价值总结"></a>函数类型注解的价值总结</h4><ol>
<li><strong>确保一致性</strong>：所有符合某种用途的函数都有相同的签名</li>
<li><strong>类型安全</strong>：传递函数时不会出现参数不匹配的问题  </li>
<li><strong>代码提示</strong>：IDE 可以准确提示函数的参数和返回值</li>
<li><strong>重构安全</strong>：修改函数签名时，所有使用的地方会自动报错</li>
<li><strong>文档作用</strong>：类型就是最好的文档，说明函数的用途和约束</li>
</ol>
<p><strong>Java 开发者的理解方式</strong>：</p>
<ul>
<li>函数类型 ≈ Java 的函数式接口</li>
<li>但 JavaScript 的函数类型更灵活，可以直接定义而不需要先创建接口</li>
</ul>
<h4 id="等价的接口定义方式"><a href="#等价的接口定义方式" class="headerlink" title="等价的接口定义方式"></a>等价的接口定义方式</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类型别名方式</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CreateRouterFn</span> = <span class="function">(<span class="params"><span class="attr">options</span>: <span class="title class_">RouterOptions</span></span>) =&gt;</span> <span class="title class_">Router</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接口方式</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">CreateRouterFunction</span> &#123;</span><br><span class="line">  (<span class="attr">options</span>: <span class="title class_">RouterOptions</span>): <span class="title class_">Router</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-高阶函数类型注解"><a href="#3-2-高阶函数类型注解" class="headerlink" title="3.2 高阶函数类型注解"></a>3.2 高阶函数类型注解</h3><h4 id="函数作为参数"><a href="#函数作为参数" class="headerlink" title="函数作为参数"></a>函数作为参数</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 函数作为参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processData</span>(<span class="params"></span></span><br><span class="line"><span class="params">  <span class="attr">data</span>: <span class="built_in">string</span>[], </span></span><br><span class="line"><span class="params">  <span class="attr">processor</span>: (item: <span class="built_in">string</span>) =&gt; <span class="built_in">string</span></span></span><br><span class="line"><span class="params"></span>): <span class="built_in">string</span>[] &#123;</span><br><span class="line">  <span class="keyword">return</span> data.<span class="title function_">map</span>(processor);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">processData</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>], <span class="function"><span class="params">item</span> =&gt;</span> item.<span class="title function_">toUpperCase</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - 使用 Function 接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title function_">processData</span><span class="params">(</span></span><br><span class="line"><span class="params">    List&lt;String&gt; data, </span></span><br><span class="line"><span class="params">    Function&lt;String, String&gt; processor</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> data.stream()</span><br><span class="line">        .map(processor)</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">List&lt;String&gt; result = processData(</span><br><span class="line">    Arrays.asList(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>), </span><br><span class="line">    String::toUpperCase</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="函数作为返回值"><a href="#函数作为返回值" class="headerlink" title="函数作为返回值"></a>函数作为返回值</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 工厂函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createValidator</span>(<span class="params"><span class="attr">minLength</span>: <span class="built_in">number</span></span>): <span class="function">(<span class="params"><span class="attr">input</span>: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">boolean</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params"><span class="attr">input</span>: <span class="built_in">string</span></span>) =&gt;</span> input.<span class="property">length</span> &gt;= minLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> validateEmail = <span class="title function_">createValidator</span>(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> isValid = <span class="title function_">validateEmail</span>(<span class="string">&quot;test@example.com&quot;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - 返回函数式接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Function&lt;String, Boolean&gt; <span class="title function_">createValidator</span><span class="params">(<span class="type">int</span> minLength)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> input -&gt; input.length() &gt;= minLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">Function&lt;String, Boolean&gt; validateEmail = createValidator(<span class="number">5</span>);</span><br><span class="line"><span class="type">Boolean</span> <span class="variable">isValid</span> <span class="operator">=</span> validateEmail.apply(<span class="string">&quot;test@example.com&quot;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-复杂类型组合"><a href="#3-3-复杂类型组合" class="headerlink" title="3.3 复杂类型组合"></a>3.3 复杂类型组合</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 复杂的函数类型组合</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">AsyncProcessor</span>&lt;T, R&gt; = <span class="function">(<span class="params"><span class="attr">input</span>: T</span>) =&gt;</span> <span class="title class_">Promise</span>&lt;R&gt;;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ErrorHandler</span> = <span class="function">(<span class="params"><span class="attr">error</span>: <span class="title class_">Error</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">DataPipeline</span>&lt;T, R&gt; &#123;</span><br><span class="line">  <span class="attr">process</span>: <span class="title class_">AsyncProcessor</span>&lt;T, R&gt;;</span><br><span class="line">  <span class="attr">onError</span>: <span class="title class_">ErrorHandler</span>;</span><br><span class="line">  <span class="attr">retryCount</span>?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">userPipeline</span>: <span class="title class_">DataPipeline</span>&lt;<span class="title class_">UserInput</span>, <span class="title class_">User</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">process</span>: <span class="title function_">async</span> (input) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 异步处理逻辑</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(input.<span class="property">name</span>, input.<span class="property">age</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onError</span>: <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Processing failed:&#x27;</span>, error);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">retryCount</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="第四章：现代-JavaScript-TypeScript-函数特性"><a href="#第四章：现代-JavaScript-TypeScript-函数特性" class="headerlink" title="第四章：现代 JavaScript&#x2F;TypeScript 函数特性"></a>第四章：现代 JavaScript&#x2F;TypeScript 函数特性</h2><h3 id="4-1-异步函数（async-await）"><a href="#4-1-异步函数（async-await）" class="headerlink" title="4.1 异步函数（async&#x2F;await）"></a>4.1 异步函数（async&#x2F;await）</h3><p>这是 Java 开发者需要重新学习的重要概念。</p>
<h4 id="基本异步函数"><a href="#基本异步函数" class="headerlink" title="基本异步函数"></a>基本异步函数</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript 异步函数</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchUserData</span>(<span class="params"><span class="attr">userId</span>: <span class="built_in">string</span></span>): <span class="title class_">Promise</span>&lt;<span class="title class_">User</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`/api/users/<span class="subst">$&#123;userId&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> userData = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(userData);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Failed to fetch user: <span class="subst">$&#123;error.message&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数版本</span></span><br><span class="line"><span class="keyword">const</span> fetchUserData = <span class="title function_">async</span> (<span class="attr">userId</span>: <span class="built_in">string</span>): <span class="title class_">Promise</span>&lt;<span class="title class_">User</span>&gt; =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`/api/users/<span class="subst">$&#123;userId&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="keyword">await</span> response.<span class="title function_">json</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Java 对比</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - 使用 CompletableFuture</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> CompletableFuture&lt;User&gt; <span class="title function_">fetchUserData</span><span class="params">(String userId)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// HTTP 请求逻辑（伪代码）</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.get(<span class="string">&quot;/api/users/&quot;</span> + userId);</span><br><span class="line">            <span class="type">UserData</span> <span class="variable">userData</span> <span class="operator">=</span> objectMapper.readValue(response, UserData.class);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(userData);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Failed to fetch user: &quot;</span> + e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="并行异步处理"><a href="#并行异步处理" class="headerlink" title="并行异步处理"></a>并行异步处理</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript - 并行处理</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">loadUserProfile</span>(<span class="params"><span class="attr">userId</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [user, posts, friends] = <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>([</span><br><span class="line">    <span class="title function_">fetchUser</span>(userId),</span><br><span class="line">    <span class="title function_">fetchUserPosts</span>(userId),</span><br><span class="line">    <span class="title function_">fetchUserFriends</span>(userId)</span><br><span class="line">  ]);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> &#123; user, posts, friends &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java - CompletableFuture 并行处理</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> CompletableFuture&lt;UserProfile&gt; <span class="title function_">loadUserProfile</span><span class="params">(String userId)</span> &#123;</span><br><span class="line">    CompletableFuture&lt;User&gt; userFuture = fetchUser(userId);</span><br><span class="line">    CompletableFuture&lt;List&lt;Post&gt;&gt; postsFuture = fetchUserPosts(userId);</span><br><span class="line">    CompletableFuture&lt;List&lt;User&gt;&gt; friendsFuture = fetchUserFriends(userId);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> CompletableFuture.allOf(userFuture, postsFuture, friendsFuture)</span><br><span class="line">        .thenApply(ignored -&gt; <span class="keyword">new</span> <span class="title class_">UserProfile</span>(</span><br><span class="line">            userFuture.join(),</span><br><span class="line">            postsFuture.join(),</span><br><span class="line">            friendsFuture.join()</span><br><span class="line">        ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-泛型函数"><a href="#4-2-泛型函数" class="headerlink" title="4.2 泛型函数"></a>4.2 泛型函数</h3><h4 id="TypeScript-泛型函数"><a href="#TypeScript-泛型函数" class="headerlink" title="TypeScript 泛型函数"></a>TypeScript 泛型函数</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本泛型函数</span></span><br><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数泛型</span></span><br><span class="line"><span class="keyword">const</span> identity = &lt;T&gt;(<span class="attr">arg</span>: T): <span class="function"><span class="params">T</span> =&gt;</span> arg;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 约束泛型</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Lengthwise</span> &#123;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> getLength&lt;T <span class="keyword">extends</span> <span class="title class_">Lengthwise</span>&gt;(<span class="attr">arg</span>: T): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> arg.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> stringLength = <span class="title function_">getLength</span>(<span class="string">&quot;hello&quot;</span>); <span class="comment">// 5</span></span><br><span class="line"><span class="keyword">const</span> arrayLength = <span class="title function_">getLength</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><strong>Java 对比</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 泛型方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">identity</span><span class="params">(T arg)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有界泛型</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T <span class="keyword">extends</span> <span class="title class_">Lengthwise</span>&gt; <span class="type">int</span> <span class="title function_">getLength</span><span class="params">(T arg)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> arg.getLength();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="type">String</span> <span class="variable">result1</span> <span class="operator">=</span> identity(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="type">Integer</span> <span class="variable">result2</span> <span class="operator">=</span> identity(<span class="number">42</span>);</span><br></pre></td></tr></table></figure>

<h4 id="复杂泛型场景"><a href="#复杂泛型场景" class="headerlink" title="复杂泛型场景"></a>复杂泛型场景</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 高级泛型函数</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">KeyValuePair</span>&lt;K, V&gt; = &#123;</span><br><span class="line">  <span class="attr">key</span>: K;</span><br><span class="line">  <span class="attr">value</span>: V;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> createMap&lt;K <span class="keyword">extends</span> <span class="built_in">string</span> | <span class="built_in">number</span>, V&gt;(</span><br><span class="line">  <span class="attr">pairs</span>: <span class="title class_">KeyValuePair</span>&lt;K, V&gt;[]</span><br><span class="line">): <span class="title class_">Map</span>&lt;K, V&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>&lt;K, V&gt;();</span><br><span class="line">  pairs.<span class="title function_">forEach</span>(<span class="function"><span class="params">pair</span> =&gt;</span> map.<span class="title function_">set</span>(pair.<span class="property">key</span>, pair.<span class="property">value</span>));</span><br><span class="line">  <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> userMap = <span class="title function_">createMap</span>([</span><br><span class="line">  &#123; <span class="attr">key</span>: <span class="string">&#x27;alice&#x27;</span>, <span class="attr">value</span>: <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;Alice&#x27;</span>) &#125;,</span><br><span class="line">  &#123; <span class="attr">key</span>: <span class="string">&#x27;bob&#x27;</span>, <span class="attr">value</span>: <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;Bob&#x27;</span>) &#125;</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>

<h3 id="4-3-函数重载"><a href="#4-3-函数重载" class="headerlink" title="4.3 函数重载"></a>4.3 函数重载</h3><p>TypeScript 独有的特性，Java 通过方法重载实现类似效果。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript 函数重载声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">process</span>(<span class="params"><span class="attr">input</span>: <span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">process</span>(<span class="params"><span class="attr">input</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">process</span>(<span class="params"><span class="attr">input</span>: <span class="built_in">boolean</span></span>): <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实际实现</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">process</span>(<span class="params"><span class="attr">input</span>: <span class="built_in">string</span> | <span class="built_in">number</span> | <span class="built_in">boolean</span></span>): <span class="built_in">string</span> | <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> input === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> input.<span class="title function_">toUpperCase</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> input === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> input * <span class="number">2</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> input.<span class="title function_">toString</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 - TypeScript 会根据参数类型推断返回值类型</span></span><br><span class="line"><span class="keyword">const</span> stringResult = <span class="title function_">process</span>(<span class="string">&quot;hello&quot;</span>);    <span class="comment">// 类型: string</span></span><br><span class="line"><span class="keyword">const</span> numberResult = <span class="title function_">process</span>(<span class="number">42</span>);         <span class="comment">// 类型: number</span></span><br><span class="line"><span class="keyword">const</span> booleanResult = <span class="title function_">process</span>(<span class="literal">true</span>);      <span class="comment">// 类型: string</span></span><br></pre></td></tr></table></figure>

<p><strong>Java 对比</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 方法重载</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">process</span><span class="params">(String input)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> input.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">process</span><span class="params">(<span class="type">int</span> input)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> input * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">process</span><span class="params">(<span class="type">boolean</span> input)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> String.valueOf(input);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第五章：实际应用场景"><a href="#第五章：实际应用场景" class="headerlink" title="第五章：实际应用场景"></a>第五章：实际应用场景</h2><h3 id="5-1-事件处理函数"><a href="#5-1-事件处理函数" class="headerlink" title="5.1 事件处理函数"></a>5.1 事件处理函数</h3><h4 id="DOM-事件处理"><a href="#DOM-事件处理" class="headerlink" title="DOM 事件处理"></a>DOM 事件处理</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript 事件处理</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ButtonHandler</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> clickCount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 箭头函数确保 this 绑定正确</span></span><br><span class="line">  handleClick = <span class="function">(<span class="params"><span class="attr">event</span>: <span class="title class_">MouseEvent</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">clickCount</span>++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Button clicked <span class="subst">$&#123;<span class="variable language_">this</span>.clickCount&#125;</span> times`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 传统函数需要手动绑定</span></span><br><span class="line">  <span class="title function_">handleHover</span>(<span class="params"><span class="attr">event</span>: <span class="title class_">MouseEvent</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Button hovered&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setupEventListeners</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myButton&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (button) &#123;</span><br><span class="line">      button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleClick</span>);</span><br><span class="line">      <span class="comment">// 传统函数需要 bind</span></span><br><span class="line">      button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleHover</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="React-组件中的事件处理"><a href="#React-组件中的事件处理" class="headerlink" title="React 组件中的事件处理"></a>React 组件中的事件处理</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// React 函数组件</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">UserFormProps</span> &#123;</span><br><span class="line">  <span class="attr">onSubmit</span>: <span class="function">(<span class="params"><span class="attr">user</span>: <span class="title class_">User</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">onCancel</span>: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserForm</span>: <span class="title class_">React</span>.<span class="property">FC</span>&lt;<span class="title class_">UserFormProps</span>&gt; = <span class="function">(<span class="params">&#123; onSubmit, onCancel &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [name, setName] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> [email, setEmail] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 表单提交处理</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleSubmit</span> = (<span class="params"><span class="attr">e</span>: <span class="title class_">React</span>.<span class="title class_">FormEvent</span></span>) =&gt; &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">    <span class="keyword">if</span> (name &amp;&amp; email) &#123;</span><br><span class="line">      <span class="title function_">onSubmit</span>(<span class="keyword">new</span> <span class="title class_">User</span>(name, email));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 输入变化处理</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleNameChange</span> = (<span class="params"><span class="attr">e</span>: <span class="title class_">React</span>.<span class="title class_">ChangeEvent</span>&lt;<span class="title class_">HTMLInputElement</span>&gt;</span>) =&gt; &#123;</span><br><span class="line">    <span class="title function_">setName</span>(e.<span class="property">target</span>.<span class="property">value</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;handleSubmit&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">input</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">value</span>=<span class="string">&#123;name&#125;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onChange</span>=<span class="string">&#123;handleNameChange&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">placeholder</span>=<span class="string">&quot;Name&quot;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">input</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">value</span>=<span class="string">&#123;email&#125;</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onChange</span>=<span class="string">&#123;(e)</span> =&gt;</span> setEmail(e.target.value)&#125;</span></span><br><span class="line"><span class="language-xml">        placeholder=&quot;Email&quot; </span></span><br><span class="line"><span class="language-xml">      /&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;onCancel&#125;</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-函数式编程模式"><a href="#5-2-函数式编程模式" class="headerlink" title="5.2 函数式编程模式"></a>5.2 函数式编程模式</h3><h4 id="数据处理管道"><a href="#数据处理管道" class="headerlink" title="数据处理管道"></a>数据处理管道</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数式数据处理</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">price</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">category</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductService</span> &#123;</span><br><span class="line">  <span class="comment">// 纯函数 - 无副作用</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> filterByCategory = <span class="function">(<span class="params"><span class="attr">category</span>: <span class="built_in">string</span></span>) =&gt;</span> </span><br><span class="line">    <span class="function">(<span class="params"><span class="attr">product</span>: <span class="title class_">Product</span></span>) =&gt;</span> product.<span class="property">category</span> === category;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> filterByPrice = <span class="function">(<span class="params"><span class="attr">maxPrice</span>: <span class="built_in">number</span></span>) =&gt;</span> </span><br><span class="line">    <span class="function">(<span class="params"><span class="attr">product</span>: <span class="title class_">Product</span></span>) =&gt;</span> product.<span class="property">price</span> &lt;= maxPrice;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> sortByPrice = <span class="function">(<span class="params"><span class="attr">ascending</span>: <span class="built_in">boolean</span> = <span class="literal">true</span></span>) =&gt;</span> </span><br><span class="line">    <span class="function">(<span class="params"><span class="attr">a</span>: <span class="title class_">Product</span>, <span class="attr">b</span>: <span class="title class_">Product</span></span>) =&gt;</span> </span><br><span class="line">      ascending ? a.<span class="property">price</span> - b.<span class="property">price</span> : b.<span class="property">price</span> - a.<span class="property">price</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 组合函数创建处理管道</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">searchProducts</span>(</span><br><span class="line">    <span class="attr">products</span>: <span class="title class_">Product</span>[],</span><br><span class="line">    <span class="attr">category</span>?: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">maxPrice</span>?: <span class="built_in">number</span>,</span><br><span class="line">    sortAscending = <span class="literal">true</span></span><br><span class="line">  ): <span class="title class_">Product</span>[] &#123;</span><br><span class="line">    <span class="keyword">let</span> result = products;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (category) &#123;</span><br><span class="line">      result = result.<span class="title function_">filter</span>(<span class="variable language_">this</span>.<span class="title function_">filterByCategory</span>(category));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (maxPrice) &#123;</span><br><span class="line">      result = result.<span class="title function_">filter</span>(<span class="variable language_">this</span>.<span class="title function_">filterByPrice</span>(maxPrice));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result.<span class="title function_">sort</span>(<span class="variable language_">this</span>.<span class="title function_">sortByPrice</span>(sortAscending));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> products = [</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Laptop&#x27;</span>, <span class="attr">price</span>: <span class="number">1000</span>, <span class="attr">category</span>: <span class="string">&#x27;Electronics&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Book&#x27;</span>, <span class="attr">price</span>: <span class="number">20</span>, <span class="attr">category</span>: <span class="string">&#x27;Education&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">id</span>: <span class="string">&#x27;3&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;Phone&#x27;</span>, <span class="attr">price</span>: <span class="number">800</span>, <span class="attr">category</span>: <span class="string">&#x27;Electronics&#x27;</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cheapElectronics = <span class="title class_">ProductService</span>.<span class="title function_">searchProducts</span>(</span><br><span class="line">  products,</span><br><span class="line">  <span class="string">&#x27;Electronics&#x27;</span>,</span><br><span class="line">  <span class="number">900</span>,</span><br><span class="line">  <span class="literal">true</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="5-3-异步数据获取和缓存"><a href="#5-3-异步数据获取和缓存" class="headerlink" title="5.3 异步数据获取和缓存"></a>5.3 异步数据获取和缓存</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 高级异步模式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DataCache</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">private</span> cache = <span class="keyword">new</span> <span class="title class_">Map</span>&lt;<span class="built_in">string</span>, &#123; <span class="attr">data</span>: T; <span class="attr">timestamp</span>: <span class="built_in">number</span> &#125;&gt;();</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">readonly</span> <span class="variable constant_">TTL</span> = <span class="number">5</span> * <span class="number">60</span> * <span class="number">1000</span>; <span class="comment">// 5分钟</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 通用获取函数，支持缓存</span></span><br><span class="line">  <span class="keyword">async</span> fetchWithCache&lt;R&gt;(</span><br><span class="line">    <span class="attr">key</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">fetcher</span>: <span class="function">() =&gt;</span> <span class="title class_">Promise</span>&lt;R&gt;,</span><br><span class="line">    ttl = <span class="variable language_">this</span>.<span class="property">TTL</span></span><br><span class="line">  ): <span class="title class_">Promise</span>&lt;R&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> cached = <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">get</span>(key);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (cached &amp;&amp; <span class="title class_">Date</span>.<span class="title function_">now</span>() - cached.<span class="property">timestamp</span> &lt; ttl) &#123;</span><br><span class="line">      <span class="keyword">return</span> cached.<span class="property">data</span> <span class="keyword">as</span> R;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetcher</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">set</span>(key, &#123; <span class="attr">data</span>: data <span class="keyword">as</span> T, <span class="attr">timestamp</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>() &#125;);</span><br><span class="line">      <span class="keyword">return</span> data;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="comment">// 如果有缓存数据，在网络错误时返回缓存</span></span><br><span class="line">      <span class="keyword">if</span> (cached) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;Using stale cache due to fetch error:&#x27;</span>, error);</span><br><span class="line">        <span class="keyword">return</span> cached.<span class="property">data</span> <span class="keyword">as</span> R;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">throw</span> error;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 批量获取</span></span><br><span class="line">  <span class="keyword">async</span> fetchBatch&lt;R&gt;(</span><br><span class="line">    <span class="attr">requests</span>: <span class="title class_">Array</span>&lt;&#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="built_in">string</span>;</span><br><span class="line">      <span class="attr">fetcher</span>: <span class="function">() =&gt;</span> <span class="title class_">Promise</span>&lt;R&gt;;</span><br><span class="line">    &#125;&gt;</span><br><span class="line">  ): <span class="title class_">Promise</span>&lt;R[]&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(</span><br><span class="line">      requests.<span class="title function_">map</span>(<span class="function"><span class="params">req</span> =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">fetchWithCache</span>(req.<span class="property">key</span>, req.<span class="property">fetcher</span>))</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> userCache = <span class="keyword">new</span> <span class="title class_">DataCache</span>&lt;<span class="title class_">User</span>&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">loadUserDashboard</span>(<span class="params"><span class="attr">userId</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [user, posts, notifications] = <span class="keyword">await</span> userCache.<span class="title function_">fetchBatch</span>([</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="string">`user:<span class="subst">$&#123;userId&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">fetcher</span>: <span class="function">() =&gt;</span> <span class="title function_">fetch</span>(<span class="string">`/api/users/<span class="subst">$&#123;userId&#125;</span>`</span>).<span class="title function_">then</span>(<span class="function"><span class="params">r</span> =&gt;</span> r.<span class="title function_">json</span>())</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="string">`posts:<span class="subst">$&#123;userId&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">fetcher</span>: <span class="function">() =&gt;</span> <span class="title function_">fetch</span>(<span class="string">`/api/users/<span class="subst">$&#123;userId&#125;</span>/posts`</span>).<span class="title function_">then</span>(<span class="function"><span class="params">r</span> =&gt;</span> r.<span class="title function_">json</span>())</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="string">`notifications:<span class="subst">$&#123;userId&#125;</span>`</span>,</span><br><span class="line">      <span class="attr">fetcher</span>: <span class="function">() =&gt;</span> <span class="title function_">fetch</span>(<span class="string">`/api/users/<span class="subst">$&#123;userId&#125;</span>/notifications`</span>).<span class="title function_">then</span>(<span class="function"><span class="params">r</span> =&gt;</span> r.<span class="title function_">json</span>())</span><br><span class="line">    &#125;</span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; user, posts, notifications &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="第六章：最佳实践和注意事项"><a href="#第六章：最佳实践和注意事项" class="headerlink" title="第六章：最佳实践和注意事项"></a>第六章：最佳实践和注意事项</h2><h3 id="6-1-何时使用不同的函数声明方式"><a href="#6-1-何时使用不同的函数声明方式" class="headerlink" title="6.1 何时使用不同的函数声明方式"></a>6.1 何时使用不同的函数声明方式</h3><h4 id="选择指南"><a href="#选择指南" class="headerlink" title="选择指南"></a>选择指南</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 普通函数声明 - 适用于顶层函数、需要提升的场合</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calculateTax</span>(<span class="params"><span class="attr">amount</span>: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> amount * <span class="number">0.1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 函数表达式 - 适用于条件性创建函数</span></span><br><span class="line"><span class="keyword">const</span> calculator = isAdvancedMode </span><br><span class="line">  ? <span class="keyword">function</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>) &#123; <span class="keyword">return</span> a * b * <span class="number">1.2</span>; &#125;</span><br><span class="line">  : <span class="keyword">function</span>(<span class="params"><span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span></span>) &#123; <span class="keyword">return</span> a * b; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 箭头函数 - 适用于回调、简短逻辑、需要保持 this 绑定</span></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> doubled = numbers.<span class="title function_">map</span>(<span class="function"><span class="params">n</span> =&gt;</span> n * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 方法定义 - 适用于对象/类的方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">  <span class="comment">// 普通方法 - 可以被继承和覆盖</span></span><br><span class="line">  <span class="title function_">calculate</span>(<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 箭头函数属性 - 绑定 this，但不能被覆盖</span></span><br><span class="line">  multiply = (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="性能考虑"><a href="#性能考虑" class="headerlink" title="性能考虑"></a>性能考虑</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ❌ 避免 - 每次渲染都创建新函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Component</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> console.log(&#x27;clicked&#x27;)&#125;&gt;</span></span><br><span class="line"><span class="language-xml">      Click me</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ✅ 推荐 - 函数复用</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Component</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> handleClick = <span class="title function_">useCallback</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;clicked&#x27;</span>);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ✅ 推荐 - 类方法中使用箭头函数属性</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Component</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;clicked&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-2-类型安全的函数设计"><a href="#6-2-类型安全的函数设计" class="headerlink" title="6.2 类型安全的函数设计"></a>6.2 类型安全的函数设计</h3><h4 id="严格的类型注解"><a href="#严格的类型注解" class="headerlink" title="严格的类型注解"></a>严格的类型注解</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 完整的类型注解</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">UserValidator</span> = &#123;</span><br><span class="line">  (<span class="attr">user</span>: <span class="title class_">User</span>): <span class="built_in">boolean</span>;</span><br><span class="line">  <span class="attr">errorMessage</span>?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> createUserValidator = (</span><br><span class="line">  <span class="attr">rules</span>: <span class="title class_">Array</span>&lt;<span class="function">(<span class="params"><span class="attr">user</span>: <span class="title class_">User</span></span>) =&gt;</span> <span class="built_in">boolean</span>&gt;,</span><br><span class="line">  errorMessage = <span class="string">&#x27;Invalid user&#x27;</span></span><br><span class="line">): <span class="function"><span class="params">UserValidator</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">validator</span>: <span class="title class_">UserValidator</span> = (<span class="attr">user</span>: <span class="title class_">User</span>): <span class="function"><span class="params">boolean</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rules.<span class="title function_">every</span>(<span class="function"><span class="params">rule</span> =&gt;</span> <span class="title function_">rule</span>(user));</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  validator.<span class="property">errorMessage</span> = errorMessage;</span><br><span class="line">  <span class="keyword">return</span> validator;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">const</span> isValidUser = <span class="title function_">createUserValidator</span>([</span><br><span class="line">  <span class="function">(<span class="params">user</span>) =&gt;</span> user.<span class="property">name</span>.<span class="property">length</span> &gt; <span class="number">0</span>,</span><br><span class="line">  <span class="function">(<span class="params">user</span>) =&gt;</span> user.<span class="property">email</span>.<span class="title function_">includes</span>(<span class="string">&#x27;@&#x27;</span>),</span><br><span class="line">  <span class="function">(<span class="params">user</span>) =&gt;</span> user.<span class="property">age</span> &gt;= <span class="number">18</span></span><br><span class="line">], <span class="string">&#x27;User must have name, valid email, and be at least 18&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="title function_">isValidUser</span>(someUser)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(isValidUser.<span class="property">errorMessage</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="泛型约束和条件类型"><a href="#泛型约束和条件类型" class="headerlink" title="泛型约束和条件类型"></a>泛型约束和条件类型</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 高级类型安全设计</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ExtractReturnType</span>&lt;T&gt; = T <span class="title function_">extends</span> (...<span class="attr">args</span>: <span class="built_in">any</span>[]) =&gt; infer R ? R : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">AsyncFunction</span>&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], R&gt; = <span class="function">(<span class="params">...<span class="attr">args</span>: T</span>) =&gt;</span> <span class="title class_">Promise</span>&lt;R&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建类型安全的异步函数包装器</span></span><br><span class="line"><span class="keyword">function</span> createAsyncWrapper&lt;T <span class="keyword">extends</span> <span class="built_in">any</span>[], R&gt;(</span><br><span class="line">  <span class="attr">syncFn</span>: <span class="function">(<span class="params">...<span class="attr">args</span>: T</span>) =&gt;</span> R</span><br><span class="line">): <span class="title class_">AsyncFunction</span>&lt;T, R&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">async</span> (...<span class="attr">args</span>: T): <span class="title class_">Promise</span>&lt;R&gt; =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">syncFn</span>(...args);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 - 完全类型安全</span></span><br><span class="line"><span class="keyword">const</span> syncAdd = (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>): <span class="function"><span class="params">number</span> =&gt;</span> a + b;</span><br><span class="line"><span class="keyword">const</span> asyncAdd = <span class="title function_">createAsyncWrapper</span>(syncAdd);</span><br><span class="line"></span><br><span class="line"><span class="comment">// TypeScript 会推断出正确的类型</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">asyncAdd</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// result 类型为 number</span></span><br></pre></td></tr></table></figure>

<h3 id="6-3-错误处理最佳实践"><a href="#6-3-错误处理最佳实践" class="headerlink" title="6.3 错误处理最佳实践"></a>6.3 错误处理最佳实践</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 结果类型模式（类似 Rust 的 Result）</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Result</span>&lt;T, E = <span class="title class_">Error</span>&gt; = </span><br><span class="line">  | &#123; <span class="attr">success</span>: <span class="literal">true</span>; <span class="attr">data</span>: T &#125;</span><br><span class="line">  | &#123; <span class="attr">success</span>: <span class="literal">false</span>; <span class="attr">error</span>: E &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 安全的异步函数包装器</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> safeAsync&lt;T&gt;(</span><br><span class="line">  <span class="attr">promise</span>: <span class="title class_">Promise</span>&lt;T&gt;</span><br><span class="line">): <span class="title class_">Promise</span>&lt;<span class="title class_">Result</span>&lt;T&gt;&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> promise;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">success</span>: <span class="literal">true</span>, data &#125;;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; </span><br><span class="line">      <span class="attr">success</span>: <span class="literal">false</span>, </span><br><span class="line">      <span class="attr">error</span>: error <span class="keyword">instanceof</span> <span class="title class_">Error</span> ? error : <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="title class_">String</span>(error))</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleUserCreation</span>(<span class="params"><span class="attr">userData</span>: <span class="title class_">UserInput</span></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">safeAsync</span>(<span class="title function_">createUser</span>(userData));</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (result.<span class="property">success</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;User created:&#x27;</span>, result.<span class="property">data</span>);</span><br><span class="line">    <span class="keyword">return</span> result.<span class="property">data</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Failed to create user:&#x27;</span>, result.<span class="property">error</span>.<span class="property">message</span>);</span><br><span class="line">    <span class="keyword">throw</span> result.<span class="property">error</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>通过本文的深入对比和解析，我们系统性地了解了 JavaScript&#x2F;TypeScript 函数语法与 Java 的差异和联系：</p>
<h3 id="核心概念映射"><a href="#核心概念映射" class="headerlink" title="核心概念映射"></a>核心概念映射</h3><table>
<thead>
<tr>
<th>JavaScript&#x2F;TypeScript</th>
<th>Java 对应概念</th>
<th>主要差异</th>
</tr>
</thead>
<tbody><tr>
<td>函数声明</td>
<td>静态方法</td>
<td>JS 函数独立存在，不需要类</td>
</tr>
<tr>
<td>箭头函数</td>
<td>Lambda 表达式</td>
<td>JS 箭头函数有 this 绑定特性</td>
</tr>
<tr>
<td>函数类型</td>
<td>函数式接口</td>
<td>TS 类型系统更灵活</td>
</tr>
<tr>
<td>async&#x2F;await</td>
<td>CompletableFuture</td>
<td>JS 原生支持，语法更简洁</td>
</tr>
<tr>
<td>函数重载</td>
<td>方法重载</td>
<td>TS 是声明式重载</td>
</tr>
</tbody></table>
<h3 id="学习要点总结"><a href="#学习要点总结" class="headerlink" title="学习要点总结"></a>学习要点总结</h3><ol>
<li><strong>函数是一等公民</strong>：JavaScript 中函数可以像变量一样被传递和操作</li>
<li><strong>类型注解位置</strong>：TypeScript 在参数后用 <code>:</code> 标注类型</li>
<li><strong>箭头函数的 this 绑定</strong>：这是 Java 开发者需要特别注意的概念</li>
<li><strong>异步编程模式</strong>：<code>async/await</code> 比 Java 的 <code>CompletableFuture</code> 更直观</li>
<li><strong>类型安全</strong>：TypeScript 提供了比 Java 更灵活的类型系统</li>
</ol>
<h3 id="实践建议"><a href="#实践建议" class="headerlink" title="实践建议"></a>实践建议</h3><ul>
<li><strong>从简单开始</strong>：先掌握基本的函数声明和箭头函数</li>
<li><strong>理解 this 绑定</strong>：这是与 Java 最大的差异点</li>
<li><strong>善用类型注解</strong>：充分利用 TypeScript 的类型检查能力</li>
<li><strong>拥抱异步编程</strong>：掌握 Promise 和 async&#x2F;await 模式</li>
<li><strong>学习函数式编程</strong>：JavaScript 对函数式编程有很好的支持</li>
</ul>
<p>掌握了这些概念，你就能够自信地阅读和编写现代 JavaScript&#x2F;TypeScript 代码，从 Java 开发者成功转型到前端开发者！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.baduncle.top/2025/08/06/javascript-typescript-function-syntax-guide-for-java-developers/" data-id="cme05obf500003bq9cfsj1cyt" data-title="JavaScript/TypeScript 函数语法完全指南：从 Java 开发者视角理解现代 JS 函数" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/arrow-functions/" rel="tag">arrow-functions</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/async-await/" rel="tag">async-await</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/function-types/" rel="tag">function-types</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/generics/" rel="tag">generics</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-to-javascript/" rel="tag">java-to-javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/optional-parameters/" rel="tag">optional-parameters</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/this-binding/" rel="tag">this-binding</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/type-annotations/" rel="tag">type-annotations</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typescript/" rel="tag">typescript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/08/06/typescript-module-system-guide/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          TypeScript 模块系统完全指南：从 Java 开发者视角理解 declare module
        
      </div>
    </a>
  
  
    <a href="/2025/08/06/tanstack-router-scroll-restoration-analysis/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">TanStack Router scrollRestoration 深度解析：从源码到实现原理</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Programming/" rel="tag">Programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReturnType/" rel="tag">ReturnType</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tutorial/" rel="tag">Tutorial</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arrow-functions/" rel="tag">arrow-functions</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/async-await/" rel="tag">async-await</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/browser-api/" rel="tag">browser-api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/declare-module/" rel="tag">declare-module</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/event-throttling/" rel="tag">event-throttling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/function-types/" rel="tag">function-types</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/generics/" rel="tag">generics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/history-api/" rel="tag">history-api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-to-javascript/" rel="tag">java-to-javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/module-system/" rel="tag">module-system</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/optional-parameters/" rel="tag">optional-parameters</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance-optimization/" rel="tag">performance-optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scroll-restoration/" rel="tag">scroll-restoration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/session-storage/" rel="tag">session-storage</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/source-code-analysis/" rel="tag">source-code-analysis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spa/" rel="tag">spa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tanstack-router/" rel="tag">tanstack-router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this-binding/" rel="tag">this-binding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/type-annotations/" rel="tag">type-annotations</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/type-safety/" rel="tag">type-safety</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typeof/" rel="tag">typeof</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typescript/" rel="tag">typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/user-experience/" rel="tag">user-experience</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/utility-types/" rel="tag">utility-types</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Programming/" style="font-size: 20px;">Programming</a> <a href="/tags/ReturnType/" style="font-size: 10px;">ReturnType</a> <a href="/tags/Tutorial/" style="font-size: 20px;">Tutorial</a> <a href="/tags/TypeScript/" style="font-size: 20px;">TypeScript</a> <a href="/tags/arrow-functions/" style="font-size: 10px;">arrow-functions</a> <a href="/tags/async-await/" style="font-size: 10px;">async-await</a> <a href="/tags/browser-api/" style="font-size: 10px;">browser-api</a> <a href="/tags/declare-module/" style="font-size: 10px;">declare-module</a> <a href="/tags/event-throttling/" style="font-size: 10px;">event-throttling</a> <a href="/tags/function-types/" style="font-size: 10px;">function-types</a> <a href="/tags/generics/" style="font-size: 10px;">generics</a> <a href="/tags/history-api/" style="font-size: 10px;">history-api</a> <a href="/tags/java-to-javascript/" style="font-size: 10px;">java-to-javascript</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/module-system/" style="font-size: 10px;">module-system</a> <a href="/tags/optional-parameters/" style="font-size: 10px;">optional-parameters</a> <a href="/tags/performance-optimization/" style="font-size: 10px;">performance-optimization</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/scroll-restoration/" style="font-size: 10px;">scroll-restoration</a> <a href="/tags/session-storage/" style="font-size: 10px;">session-storage</a> <a href="/tags/source-code-analysis/" style="font-size: 10px;">source-code-analysis</a> <a href="/tags/spa/" style="font-size: 10px;">spa</a> <a href="/tags/tanstack-router/" style="font-size: 10px;">tanstack-router</a> <a href="/tags/this-binding/" style="font-size: 10px;">this-binding</a> <a href="/tags/type-annotations/" style="font-size: 10px;">type-annotations</a> <a href="/tags/type-safety/" style="font-size: 10px;">type-safety</a> <a href="/tags/typeof/" style="font-size: 10px;">typeof</a> <a href="/tags/typescript/" style="font-size: 20px;">typescript</a> <a href="/tags/user-experience/" style="font-size: 10px;">user-experience</a> <a href="/tags/utility-types/" style="font-size: 10px;">utility-types</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">August 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/08/06/typescript-typeof-returntype-explained/">深入理解 TypeScript 的 typeof 和 ReturnType：从 Java 开发者视角</a>
          </li>
        
          <li>
            <a href="/2025/08/06/typescript-module-system-guide/">TypeScript 模块系统完全指南：从 Java 开发者视角理解 declare module</a>
          </li>
        
          <li>
            <a href="/2025/08/06/javascript-typescript-function-syntax-guide-for-java-developers/">JavaScript/TypeScript 函数语法完全指南：从 Java 开发者视角理解现代 JS 函数</a>
          </li>
        
          <li>
            <a href="/2025/08/06/tanstack-router-scroll-restoration-analysis/">TanStack Router scrollRestoration 深度解析：从源码到实现原理</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Baduncle<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>